<header class="main-header" *ngIf="router.url != '/login'">
  <div class="header-container">
    <div class="brand">
      <span class="brand-logo">ðŸ“š</span>
      <span class="brand-title">MEGABOOK</span>
    </div>

    <!-- Burger menu mobile -->
    <button
      class="menu-toggle"
      (click)="menuOpen = !menuOpen"
      aria-label="Ouvrir le menu"
    >
      <span class="menu-icon"></span>
    </button>

    <!-- Menu desktop -->
    <nav class="nav-menu">
      <a
        routerLink="/"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Accueil</a
      >
      <a routerLink="/list-themes-magazines" routerLinkActive="active"
        >Magazines</a
      >
      <a routerLink="/list-themes-livres" routerLinkActive="active">Livres</a>

      <ng-container *ngIf="isLoggedIn; else loginButton">
        <!-- Dropdown Mon Compte -->
        <div class="dropdown">
          <button class="dropbtn">Mon compte â–¾</button>
          <div class="dropdown-content">
            <a routerLink="/compte/parametres" routerLinkActive="active"
              >ParamÃ¨tres</a
            >
            <a routerLink="/favoris-magazines" routerLinkActive="active"
              >Mes favoris (Magazines)</a
            >
            <a routerLink="/favoris-livres" routerLinkActive="active"
              >Mes favoris (Livres)</a
            >
          </div>
        </div>

        <button class="logout-btn" (click)="logout()">DÃ©connexion</button>
      </ng-container>

      <ng-template #loginButton>
        <a routerLink="/login" class="login-btn">Connexion</a>
      </ng-template>
    </nav>
  </div>

  <!-- Menu mobile -->
  <nav class="nav-menu-mobile" [class.open]="menuOpen">
    <a
      routerLink="/"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: true }"
      (click)="menuOpen = false"
      >Accueil</a
    >
    <a
      routerLink="/list-themes-magazines"
      routerLinkActive="active"
      (click)="menuOpen = false"
      >Magazines</a
    >
    <a
      routerLink="/list-themes-livres"
      routerLinkActive="active"
      (click)="menuOpen = false"
      >Livres</a
    >

    <ng-container *ngIf="isLoggedIn; else mobileLogin">
      <div class="mobile-submenu">
        <span class="mobile-subtitle">Mon compte</span>
        <a routerLink="/compte/parametres" (click)="menuOpen = false"
          >ParamÃ¨tres</a
        >
        <a routerLink="/favoris-magazines" (click)="menuOpen = false"
          >Mes favoris (Magazines)</a
        >
        <a routerLink="/favoris-livres" (click)="menuOpen = false"
          >Mes favoris (Livres)</a
        >
        <a href="#" (click)="logout(); menuOpen = false">DÃ©connexion</a>
      </div>
    </ng-container>

    <ng-template #mobileLogin>
      <a routerLink="/login" (click)="menuOpen = false">Connexion</a>
    </ng-template>
  </nav>
</header>
